<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FB-Style Profile</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  body{margin:0;font-family:'Poppins',sans-serif;background:#f0f2f5;}
  .profile-container{max-width:1000px;margin:30px auto;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px rgba(0,0,0,0.1);}

  .cover{width:100%;height:250px;background:#cfeefe;position:relative;}
  .cover img{width:100%;height:100%;object-fit:cover;}
  .avatar{width:140px;height:140px;border-radius:50%;border:5px solid #fff;position:absolute;bottom:-70px;left:30px;background:#fff;overflow:hidden;}
  .avatar img{width:100%;height:100%;object-fit:cover;}
  .edit-btn{position:absolute;top:10px;right:10px;padding:8px 16px;background:#1877f2;color:#fff;border:none;border-radius:8px;cursor:pointer;}

  .profile-info{padding:90px 30px 30px;}
  .profile-info h1{margin:0;font-size:24px;}
  .profile-info h2{margin:4px 0;color:#555;font-weight:400;}
  .bio{margin:10px 0;color:#333;}

  .info-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;color:#555;margin:15px 0;}
  .info-grid div{display:flex;gap:6px;align-items:center;font-size:14px;}

  .stats{display:flex;gap:20px;margin-top:15px;}
  .stats div{background:#f0f2f5;padding:10px 15px;border-radius:10px;text-align:center;flex:1;}
  .stats div span{display:block;font-weight:600;font-size:16px;}

  /* Edit form */
  .edit-form{display:none;padding:20px;background:#eef2f7;border-top:1px solid #ccc;}
  .edit-form input, .edit-form textarea{width:100%;padding:10px;margin-bottom:12px;border-radius:8px;border:1px solid #ccc;}
  .edit-form button{padding:10px 14px;border:none;border-radius:8px;background:#1877f2;color:#fff;cursor:pointer;margin-right:8px;}

  /* POST BOX */
  .post-box{max-width:1000px;margin:20px auto;padding:20px;background:white;border-radius:10px;box-shadow:0 3px 15px rgba(0,0,0,0.1);}
  .post-box textarea{width:100%;border-radius:10px;border:1px solid #ccc;padding:10px;font-family:'Poppins';resize:none;}
  .post-btn{margin-top:10px;background:#1877f2;color:white;border:none;padding:10px 16px;border-radius:8px;cursor:pointer;}

  /* POSTS FEED */
  .post-feed{max-width:1000px;margin:20px auto;}
  .post-item{background:white;padding:15px;border-radius:10px;margin-bottom:15px;box-shadow:0 2px 10px rgba(0,0,0,0.08);}
  .post-item .name{font-weight:600;}
  .post-item .time{font-size:12px;color:#777;margin-bottom:8px;}
  .post-item .content{font-size:15px;}
</style>
</head>
<body>

<div class="profile-container">
  <div class="cover" id="coverArea">
    <img id="coverImg" src="">
    <div class="avatar">
      <img id="avatarImg" src="">
    </div>
    <button class="edit-btn" id="editBtn">Edit Profile</button>
  </div>

  <div class="profile-info">
    <h1 id="displayName">Creator Name</h1>
    <h2 id="displayHandle">@handle</h2>
    <p class="bio" id="displayBio">This is the bio.</p>

    <div class="info-grid">
      <div>üìç <span id="displayLocation">Location</span></div>
      <div>üîó <a id="displayWebsite" href="#" target="_blank">website</a></div>
      <div>üìÖ Joined <span id="displayJoined">2025-01-01</span></div>
      <div>‚úâÔ∏è <span id="displayEmail">email@example.com</span></div>
    </div>

    <div class="stats">
      <div><span id="postsCount">0</span> Posts</div>
      <div><span id="followersCount">1.2K</span> Followers</div>
    </div>
  </div>

  <!-- EDIT FORM -->
  <div class="edit-form" id="editForm">
    <input type="text" id="inputName" placeholder="Name">
    <input type="text" id="inputHandle" placeholder="Handle">
    <textarea id="inputBio" placeholder="Bio"></textarea>
    <input type="text" id="inputLocation" placeholder="Location">
    <input type="url" id="inputWebsite" placeholder="Website">
    <input type="email" id="inputEmail" placeholder="Email">
    <input type="file" id="fileAvatar" accept="image/*">
    <input type="file" id="fileCover" accept="image/*">
    <button id="saveBtn">Save</button>
    <button id="cancelBtn" type="button">Cancel</button>
  </div>
</div>

<!-- POST BOX -->
<div class="post-box">
  <textarea id="postText" rows="3" placeholder="What's on your mind?"></textarea>
  <button class="post-btn" id="postBtn">Post</button>
</div>

<!-- POSTS FEED -->
<div class="post-feed" id="postFeed"></div>

<script>
/* ========== PROFILE SYSTEM ========== */
const STORAGE_KEY = "fb_profile_demo_v2";
const POST_KEY = "fb_posts";

const editBtn = document.getElementById('editBtn');
const editForm = document.getElementById('editForm');
const avatarImg = document.getElementById('avatarImg');
const coverImg = document.getElementById('coverImg');

const displayName = document.getElementById('displayName');
const displayHandle = document.getElementById('displayHandle');
const displayBio = document.getElementById('displayBio');
const displayLocation = document.getElementById('displayLocation');
const displayWebsite = document.getElementById('displayWebsite');
const displayEmail = document.getElementById('displayEmail');
const displayJoined = document.getElementById('displayJoined');
const postsCount = document.getElementById('postsCount');

const inputName = document.getElementById('inputName');
const inputHandle = document.getElementById('inputHandle');
const inputBio = document.getElementById('inputBio');
const inputLocation = document.getElementById('inputLocation');
const inputWebsite = document.getElementById('inputWebsite');
const inputEmail = document.getElementById('inputEmail');
const fileAvatar = document.getElementById('fileAvatar');
const fileCover = document.getElementById('fileCover');

const saveBtn = document.getElementById('saveBtn');
const cancelBtn = document.getElementById('cancelBtn');

const defaultData = {
  name: "Creator Name",
  handle: "handle",
  bio: "This is the bio.",
  location: "Location",
  website: "",
  email: "email@example.com",
  joined: "2025-01-01",
  avatar: "",
  cover: ""
};

function loadData() {
  const data = JSON.parse(localStorage.getItem(STORAGE_KEY)) || defaultData;
  displayName.textContent = data.name;
  displayHandle.textContent = "@" + data.handle;
  displayBio.textContent = data.bio;
  displayLocation.textContent = data.location;
  displayWebsite.textContent = data.website || "website";
  displayWebsite.href = data.website || "#";
  displayEmail.textContent = data.email;
  displayJoined.textContent = data.joined;

  avatarImg.src = data.avatar || "";
  coverImg.src = data.cover || "";
}
loadData();

/* ========== EDIT PROFILE ========== */
editBtn.onclick = () => editForm.style.display = "block";
cancelBtn.onclick = () => editForm.style.display = "none";

saveBtn.onclick = () => {
  const reader1 = new FileReader();
  const reader2 = new FileReader();

  let avatar = avatarImg.src;
  let cover = coverImg.src;

  if (fileAvatar.files[0]) {
    reader1.readAsDataURL(fileAvatar.files[0]);
    reader1.onload = () => {
      avatar = reader1.result;
      finishSave();
    };
  }

  if (fileCover.files[0]) {
    reader2.readAsDataURL(fileCover.files[0]);
    reader2.onload = () => {
      cover = reader2.result;
      finishSave();
    };
  }

  function finishSave() {
    const newData = {
      name: inputName.value || displayName.textContent,
      handle: inputHandle.value || displayHandle.textContent.replace("@",""),
      bio: inputBio.value || displayBio.textContent,
      location: inputLocation.value || displayLocation.textContent,
      website: inputWebsite.value || displayWebsite.href,
      email: inputEmail.value || displayEmail.textContent,
      joined: displayJoined.textContent,
      avatar: avatar,
      cover: cover
    };
    localStorage.setItem(STORAGE_KEY, JSON.stringify(newData));
    loadData();
    editForm.style.display = "none";
  }
};

/* ========== POSTING SYSTEM ========== */
const postBtn = document.getElementById('postBtn');
const postText = document.getElementById('postText');
const postFeed = document.getElementById('postFeed');

function loadPosts() {
  const posts = JSON.parse(localStorage.getItem(POST_KEY)) || [];
  postFeed.innerHTML = "";

  posts.reverse().forEach(p => {
    const div = document.createElement("div");
    div.className = "post-item";
    div.innerHTML = `
      <div class="name">${displayName.textContent}</div>
      <div class="time">${p.time}</div>
      <div class="content">${p.text}</div>
    `;
    postFeed.appendChild(div);
  });

  postsCount.textContent = posts.length;
}

postBtn.onclick = () => {
  const txt = postText.value.trim();
  if (!txt) return;

  const posts = JSON.parse(localStorage.getItem(POST_KEY)) || [];

  posts.push({
    text: txt,
    time: new Date().toLocaleString()
  });

  localStorage.setItem(POST_KEY, JSON.stringify(posts));
  postText.value = "";
  loadPosts();
};

loadPosts();
</script>

</body>
</html>
